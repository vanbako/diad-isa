START:
00  LUI     #0        ; 0000 0001 0000 0000 0000 0000 ; 010000
01  MOVis	#4, R0	  ; 0011 0010 0000 0000 0000 0100 ; 320004
02  MOVis	#0, R1	  ; 0011 0010 0001 0000 0000 0000 ; 321000
LOOP:
; BSR implementation
03  SRSTu   LR, (SSP) ; 0100 1111 0011 0001 0000 0000 ; 4f3100
04  SRSUBis #1, SSP   ; 0100 0100 0011 0000 0000 0001 ; 443001
05  SRMOV	PC, LR	  ; 0100 0010 0001 1111 0000 0000 ; 421f00
06  BRAis	#SUB1	  ; 0011 1100 0000 0000 0000 0101 ; 3d0005

07  SUBis	#1, R0	  ; 0011 1000 0000 0000 0000 0001 ; 340001
08  CMPis	#0, R0	  ; 0011 1011 0000 0000 0000 0000 ; 3b0000
09  BGTis	#LOOP	  ; 0011 1100 0100 1111 1111 1100 ; 3d4ffc
0A  HLT				  ; 0100 0001 0000 0000 0000 0000 ; 410000
SUB1:
0B  ADDis	#1, R1	  ; 0011 0011 0001 0000 0000 0001 ; 331001
; BSR implementation
0C  SRSTu   LR, (SSP) ; 0100 1111 0011 0001 0000 0000 ; 4f3100
0D  SRSUBis #1, SSP   ; 0100 0100 0011 0000 0000 0001 ; 443001
0E  SRMOV	PC, LR	  ; 0100 0010 0001 1111 0000 0000 ; 421f00
0F  BRAis	#SUB2	  ; 0011 1100 0000 0000 0000 0110 ; 3d0006
;
10  ADDis   #1, R2	  ; 0011 0011 0010 0000 0000 0001 ; 332001
; RET implementation
11  SRADDis #1, SSP   ; 0100 0011 0011 0000 0000 0001 ; 433001
12  SRLDu   (SSP), St ; 0100 1110 0010 0011 0000 0000 ; 4e2300
13  SRCMPu  St, LR    ; 0100 1011 0001 0010 0000 0000 ; 4b1200
14  SRJRA   LR, #2    ; 0100 1100 0000 0001 0000 0010 ; 4c0102
SUB2:
15  ADDis	#1, R3	  ; 0011 0011 0001 0000 0000 0001 ; 331001
; RET implementation
16  SRADDis #1, SSP   ; 0100 0011 0011 0000 0000 0001 ; 433001
17  SRLDu   (SSP), St ; 0100 1110 0010 0011 0000 0000 ; 4e2300
18  SRCMPu  St, LR    ; 0100 1011 0001 0010 0000 0000 ; 4b1200
19  SRJRA   LR, #2    ; 0100 1100 0000 0001 0000 0010 ; 4c0102

; Flow:
; 00
; 01
; 02
; LOOP
; 03
; 04
; 05
; 06
; SUB1
; 0B
; 0C
; 0D
; 0E
; 0F
; SUB2
; 15
; 16
; 17
; 18
; 19
; RET_FROM_SUB2
; 10
; 11
; 12
; 13
; 14
; RET_FROM_SUB1
; 07
; 08
; 09
; LOOP
; 03
; 04
; 05
; 06
; SUB1
; 0B
; ...